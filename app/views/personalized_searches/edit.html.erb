<% provide(:title, "Matches") %>

<header class="header-static-gray">
  <%= render 'layouts/header_secondary' %>
</header>

<%= render 'layouts/modal_search' %>

<%= render 'layouts/modal_menu' %>

<%= render 'layouts/contact' %>

<%= render 'layouts/hero_backend' %>

<%= render 'layouts/secondary_navbar' %>

<div class="backend">
  <div class="backend-content">
    <div class="row">
    
      <div class="col-md-4 sidenav">
        <%= render 'layouts/sidenav_matches' %>
      </div>
      
      <div class="col-md-8">
        
        <%= form_for @personalized_search,
                     url: user_personalized_search_path(current_user) do |f| %>

          <%= render 'shared/error_messages', object: f.object %>
        
          <div class="update-panel">
      
            <h2 class="panel-title">Optional</h2>
        
            <!--<div class="form-group form-group-primary">-->
              
            <!--  <(perc)= f.label :description, "Describe Yourself" %>-->
        
            <!--  <(perc)= f.text_area :description, -->
            <!--                  rows: 5,-->
            <!--                  placeholder: (@user.description.present? ? -->
            <!--                                @user.description : "Mototrova is built on relationships. Help other people get to know you."), -->
            <!--      class: 'form-control form-control-primary' %>-->
            <!--</div>-->
            
            <!--<div class="row">-->
              
            <!--  <div class="col-md-6">-->
            <!--    <div class="form-group form-group-primary">-->
                  
            <!--      <(perc)= f.label :phone_number, "Phone Number" %>-->
        
            <!--      <(perc)= f.text_field :phone_number, -->
            <!--                       placeholder: "Phone number", -->
            <!--                       class: 'form-control form-control-primary' %>-->
            <!--    </div>-->
            <!--  </div>-->
              
            <!--  <div class="col-md-6">-->
            <!--    <div class="form-group form-group-primary">-->
                  
            <!--      <(perc)= f.label :residence, "City" %>-->
        
            <!--      <(perc)= f.text_field :residence, -->
            <!--                       placeholder: "E.g. Detroit, MI / Chicago, IL", -->
            <!--                       class: 'form-control form-control-primary' %>-->
            <!--    </div>-->
            <!--  </div>-->
            <!--</div>-->
            
            <ul class="installed-options-list">
            
              <li>
                <%= check_box_tag :is_convertible, @personalized_search.id, @personalized_search.is_convertible %>
                <%= label_tag :is_convertible, "Convertible" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_coupe %>
                <%= label_tag :is_coupe, "Coupe" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_crossover %>
                <%= label_tag :is_crossover, "Crossover" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_hatchback %>
                <%= label_tag :is_hatchback, "Hatchback" %>
              </li>
              
              <li>
                <%= check_box_tag :is_minivan %>
                <%= label_tag :is_minivan, "Minivan" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_pickup %>
                <%= label_tag :is_pickup, "Pickup" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_sedan %>
                <%= label_tag :is_sedan, "Sedan" %>       
              </li>
              
              <li>
                <%= check_box_tag :is_suv %>
                <%= label_tag :is_suv, "SUV" %>          
              </li>
              
              <li>
                <%= check_box_tag :is_van %>
                <%= label_tag :is_van, "Van" %>          
              </li>
              
              <li>
                <%= check_box_tag :is_wagon %>
                <%= label_tag :is_wagon, "Wagon" %>          
              </li>
            </ul>
            
            <div class="form-group form-group-search-parameter">
        
              <%= label_tag :price, "Max Price" %>
              
              <%= f.text_field :price %>
              
              <!--<span id="personalized_price_slider_val" class="slider-label">-->
              <!--  $200000-->
              <!--</span>-->
              
              <!--<(perc)= text_field_tag :price, -->
              <!--                   nil,-->
              <!--                   id: 'personalized_price_slider', -->
              <!--                   type: 'text',-->
              <!--                   data: { 'slider-min'   => '0',-->
              <!--                           'slider-max'   => '200000',-->
              <!--                           'slider-step'  => '1',-->
              <!--                           'slider-value' => '200000' } %>-->
            </div>
            
            <div class="form-group form-group-search-parameter">
        
              <%= label_tag :mileage, "Max Mileage" %>
          
              <span id="personalized_mileage_slider_val" class="slider-label">
                300000 km
              </span>
              
              <%= text_field_tag :mileage,
                                 nil,
                                 id: 'personalized_mileage_slider', 
                                 type: 'text',
                                 data: { 'slider-min'   => '0',
                                         'slider-max'   => '300000',
                                         'slider-step'  => '1',
                                         'slider-value' => '300000' } %>
            </div>
            
            <div class="form-group form-group-search-parameter">
        
              <%= label_tag :year, "Earliest Year" %>
                
                <span id="personalized_year_slider_val" class="slider-label">
                  1900
                </span>
                
                <%= text_field_tag :year, 
                                   nil,
                                   id: 'personalized_year_slider', 
                                   type: 'text',
                                   data: { 'slider-min'   => '1900',
                                           'slider-max'   => '2016',
                                           'slider-step'  => '1',
                                           'slider-value' => '1900' } %>
            </div>
            
            <ul class="installed-options-list">
  
              <!--<li>-->
              <!--  <(perc)= f.check_box :is_autonomy %>-->
              <!--  <(perc)= f.label :is_autonomy, "Autonomy" %>         -->
              <!--</li>-->
              
              <li>
                <%= check_box_tag :is_backup_camera %>
                <%= label_tag :is_backup_camera, "Backup Camera" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_bluetooth %>
                <%= label_tag :is_bluetooth, "Bluetooth" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_dvd_entertainment_system %>
                <%= label_tag :is_dvd_entertainment_system, 
                              "DVD Entertainment System" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_leather_seats %>
                <%= label_tag :is_leather_seats, "Leather Seats" %>
              </li>
              
              <li>
                <%= check_box_tag :is_navigation_system %>
                <%= label_tag :is_navigation_system, "Navigation System" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_remote_start %>
                <%= label_tag :is_remote_start, "Remote Start" %> 
              </li>
              
              <li>
                <%= check_box_tag :is_sunroof %>
                <%= label_tag :is_sunroof, "Sunroof" %>       
              </li>
              
              <li>
                <%= check_box_tag :is_tow_package %>
                <%= label_tag :is_tow_package, "Tow Package" %>          
              </li>
            </ul>
            
            <%= f.submit "Save", class: "btn btn-primary btn-basics" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  
  // sliders
    
    var priceSlider        = $('#personalized_price_slider');
    var mileageSlider      = $('#personalized_mileage_slider');
    var yearSlider         = $('#personalized_year_slider');
    var priceSliderValue   = $('#personalized_price_slider_val');
    var mileageSliderValue = $('#personalized_mileage_slider_val');
    var yearSliderValue    = $('#personalized_year_slider_val');
    
    priceSlider.slider();
    mileageSlider.slider();
    yearSlider.slider();
    
    priceSlider.on('slide', function(slideEvt) {
    	priceSliderValue.text(slideEvt.value);
    });
    
    priceSlider.on('slideStop', function(slideEvt) {
    	priceSliderValue.text(slideEvt.value);
    });
    
    mileageSlider.on('slide', function(slideEvt) {
    	mileageSliderValue.text(slideEvt.value);
    });
    
    mileageSlider.on('slideStop', function(slideEvt) {
    	mileageSliderValue.text(slideEvt.value);
    });
    
    yearSlider.on('slide', function(slideEvt) {
    	yearSliderValue.text(slideEvt.value);
    });
    
    yearSlider.on('slideStop', function(slideEvt) {
    	yearSliderValue.text(slideEvt.value);
    });
</script>